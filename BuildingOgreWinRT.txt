To build Ogre in WinRT mode some manual steps are required:


1. The code and generated cmake solution can't be on a network drive - 
else you will get a similar error when you will try to run the result exe:
"
Error : DEP0700 : Registration of the app in the layout folder "\bin\Debug\AppX" failed.
Rejecting a request to register from file:////bin/Debug/AppX/AppxManifest.xml because 
the files are on a network share. Copy the files to the local computer before registering 
the package.
"
I found this issue the hard way when working with VMWare and shared folders to the host
computer.

2. You need Windows 8 Release Preview (build 8400) or later.
Windows 8 Developer/Consumer Preview (build 8102/8250) are not supported.
We recommend using the final version of Windows 8. You can get a trial version
from  the Microsoft site, google for it. 

3. Change to latest cmake (CMake versions before 2.8.8 are missing  
the special target properties: VS_WINRT_EXTENSIONS and VS_WINRT_REFERENCES).
(http://www.cmake.org/)

4. You need Visual Studio 2012 Release Preview or later.
Note: There have been reports of issues with the express version.
We recommend using one of final version of Visual Studio 2012. You can get a 
trial version from  the Microsoft site, google for it. 

5. Patched dependencies must be used, compiled with #define WINAPI_FAMILY = 2.
(https://bitbucket.org/eugene_gff/ogre-dependencies-winrt)
Cg is not supported, and only headers from OIS are needed. 

6. Compile dependencies for all configurations that you plan to use before running CMake.
Dependencies for Win32 and for WinRT must be located in separate folders, Win32 version 
can be built from OgreDependencies.VS2012.sln, WinRT from OgreDependencies.VS2012.WinRT.sln
Run CMake, select "Visual Studio 11" generator,  specify source and binaries folders, 
than "Configure", specify WinRT dependencies folder, again "Configure", set 
OGRE_BUILD_PLATFORM_WINRT check ignoring other errors, again "Configure", should be 
no more errors and "Generate".

7. Remove the following projects from the solution: ALL_BUILD, INSTALL, PACKAGE.

8. In WinRT mode VS2012 by default uses precompiled headers, and CMake can not yet prevent this.
So, open OGRE.sln in Visual Studio, select All projects (but not the solution itself) 
Right click, than go to "Properties" select "Configuration Properties", than "All Configurations"
and under "Configuration Properties > General > Windows Store App Support" choose "Yes". After this
(not before) go to "Configuration Properties > C/C++ > Precompiled Headers > Precompiled Header"
and choose "Not Using Precompiled Headers".

9. As CMake can not generate valid WinRT app project we need to use our own.
Therefore "File > Add > Existing Project ..." and select
"Samples > Browser > WinRT > SampleBrowserWinRT.vcxproj". 
Repeat this for "Samples > Browser > WinRT.Xaml > SampleBrowserWinRTXaml.vcxproj".
if this is your first time on that computer - you will be asked for a developer licence, do the
required steps.

10. Add project dependencies: "SampleBrowserWinRT > Properties", than 
"Common Properties > Framework and References", remove all existing references
and then "add" and in that window add a check mark next to all the projects on the list.
Repeat this for SampleBrowserWinRTXaml. 
In prerelease version of VS2012 it take big amount of time, but this bug was fixed in RTM.

11. Try to build the solution.

9. If you have a compile issue with finding OIS.h - this is becouse SampleBrowserWinRT.vcxproj
wasn't generated by cmake, the way to fix it is just to copy paste the ois path from one of the 
other projects "additional include directories" to SampleBrowserWinRT.vcxproj "additional 
include directories" config.

10. If you get any compile\link error with "...mklink /J..." failed - it mean that the 
code is not on a local drive (VMWare shared folder will not work for this...)

11. Select SampleBrowserWinRT or SampleBrowserWinRTXaml as the start up project and run.